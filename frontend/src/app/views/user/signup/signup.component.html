<section class="form signup-form" [formGroup]="signupForm">
  <div class="container">
    <div class="auth-form">
      <div class="auth-title">Регистрация на сайте</div>

      <div class="auth-inputs">
        <div class="auth-input">
          <input type="text" class="input" placeholder="Ваше имя"
                 formControlName="name" [ngStyle]="{'border-color': signupForm.get('name')?.invalid
          && (signupForm.get('name')?.dirty || signupForm.get('name')?.touched) ? 'red' : ''}">

          <div class="invalid-message" *ngIf="signupForm.get('name')?.invalid
              && (signupForm.get('name')?.dirty || signupForm.get('name')?.touched)">

            <div class="invalid-message"
                 *ngIf="signupForm.get('name')?.errors?.['required']">
              Необходимо ввести имя.
            </div>
            <div class="invalid-message"
                 *ngIf="signupForm.get('name')?.errors?.['pattern']">
              Убедитесь, что поле содержит только буквы русского алфавита и пробелы, а каждое новое слово начинается с большой буквы.
            </div>

          </div>
        </div>
        <div class="auth-input">
          <input type="text" class="input" placeholder="Электронная почта"
                 formControlName="email"
                 [ngStyle]="{'border-color': signupForm.get('email')?.invalid
          && (signupForm.get('email')?.dirty || signupForm.get('email')?.touched) ? 'red' : ''}">

          <div class="invalid-message" *ngIf="signupForm.get('email')?.invalid
              && (signupForm.get('email')?.dirty || signupForm.get('email')?.touched)">

            <div class="invalid-message"
                 *ngIf="signupForm.get('email')?.errors?.['required']">
              Необходимо ввести E-mail.
            </div>
            <div class="invalid-message"
                 *ngIf="signupForm.get('email')?.errors?.['email']">
              Убедитесь, что ваш E-mail написан корректно. Пример: test&#64;mail.ru.
            </div>

          </div>
        </div>
        <div class="auth-input">
          <input [type]="showPassword ? 'text' : 'password'" class="input" placeholder="Пароль"
                 formControlName="password"
                 [ngStyle]="{'border-color': signupForm.get('password')?.invalid
          && (signupForm.get('password')?.dirty || signupForm.get('password')?.touched) ? 'red' : ''}">

          <div class="eye-icons" (click)="togglePasswordVisibility()">

            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="27.0508" height="16.748"
                 *ngIf="!showPassword">
              <g>
                <rect height="16.748" opacity="0" width="27.0508" x="0" y="0"/>
                <path
                  d="M13.3496 16.748C21.2402 16.748 26.6895 10.3711 26.6895 8.37891C26.6895 6.37695 21.2305 0.00976562 13.3496 0.00976562C5.56641 0.00976562 0 6.37695 0 8.37891C0 10.3711 5.55664 16.748 13.3496 16.748ZM13.3496 15.2051C6.91406 15.2051 1.70898 9.75586 1.70898 8.37891C1.70898 7.2168 6.91406 1.55273 13.3496 1.55273C19.7559 1.55273 24.9805 7.2168 24.9805 8.37891C24.9805 9.75586 19.7559 15.2051 13.3496 15.2051ZM13.3496 13.8477C16.3867 13.8477 18.8281 11.3574 18.8281 8.37891C18.8281 5.32227 16.3867 2.91016 13.3496 2.91016C10.293 2.91016 7.85156 5.32227 7.85156 8.37891C7.85156 11.3574 10.293 13.8477 13.3496 13.8477ZM13.3496 10.1953C12.334 10.1953 11.5137 9.375 11.5137 8.37891C11.5137 7.37305 12.334 6.5625 13.3496 6.5625C14.3555 6.5625 15.1758 7.37305 15.1758 8.37891C15.1758 9.375 14.3555 10.1953 13.3496 10.1953Z"
                  fill="#000000" fill-opacity="0.25"/>
              </g>
            </svg>
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="27.0508" height="20.5566"
                 *ngIf="showPassword">
              <g>
                <rect height="20.5566" opacity="0" width="27.0508" x="0" y="0"/>
                <path
                  d="M6.14044 5.73705C3.43781 7.44842 1.70898 9.61346 1.70898 10.2832C1.70898 11.6602 6.91406 17.1094 13.3496 17.1094C14.6102 17.1094 15.825 16.8984 16.9602 16.5439L18.2254 17.8076C16.75 18.3347 15.1106 18.6523 13.3496 18.6523C5.55664 18.6523 0 12.2754 0 10.2832C0 9.12793 1.85367 6.51899 4.92486 4.52292ZM26.6895 10.2832C26.6895 11.4332 24.8738 14.0441 21.8131 16.0421L20.62 14.8497C23.2775 13.1828 24.9805 11.0693 24.9805 10.2832C24.9805 9.12109 19.7559 3.45703 13.3496 3.45703C12.1055 3.45703 10.9073 3.66872 9.78592 4.02213L8.51937 2.75634C9.98881 2.23064 11.6141 1.91406 13.3496 1.91406C21.2305 1.91406 26.6895 8.28125 26.6895 10.2832ZM15.6512 15.2365C14.9545 15.5685 14.174 15.752 13.3496 15.752C10.293 15.752 7.85156 13.2617 7.85156 10.2832C7.85156 9.4478 8.03393 8.66054 8.36668 7.96063ZM18.8281 10.2832C18.8281 11.09 18.649 11.8609 18.3224 12.5535L11.0671 5.30258C11.7589 4.98692 12.5323 4.81445 13.3496 4.81445C16.3867 4.81445 18.8281 7.22656 18.8281 10.2832Z"
                  fill="#000000" fill-opacity="0.25"/>
                <path
                  d="M20.7812 18.7402C21.0742 19.043 21.5332 19.0625 21.8457 18.7402C22.1582 18.418 22.1387 17.9785 21.8457 17.6758L5.50781 1.35742C5.22461 1.06445 4.73633 1.06445 4.43359 1.35742C4.15039 1.64062 4.15039 2.13867 4.43359 2.42188Z"
                  fill="#000000" fill-opacity="0.25"/>
              </g>
            </svg>
          </div>

          <div class="invalid-message" *ngIf="signupForm.get('password')?.invalid
              && (signupForm.get('password')?.dirty || signupForm.get('password')?.touched)">

            <div class="invalid-message"
                 *ngIf="signupForm.get('password')?.errors?.['required']">
              Необходимо ввести пароль.
            </div>
            <div class="invalid-message"
                 *ngIf="signupForm.get('password')?.errors?.['pattern']">
              Убедитесь, что введенный вами пароль содержит не менее 8 символов, среди которых как минимум 1 буква в верхнем регистре и как минимум 1
              цифра.
            </div>

          </div>

        </div>
        <div class="auth-checkbox">
          <input type="checkbox" id="agree" formControlName="agree">
          <label for="agree">Я принимаю <a routerLink="/policy" fragment="agreement">условия пользовательского соглашения</a> и даю <a
            routerLink="/policy" fragment="personal-data">согласие на обработку персональных
            данных</a>.</label>
        </div>
      </div>

      <div class="auth-button">
        <button class="button" [disabled]="signupForm.invalid" (click)="signup()">Зарегистрироваться</button>
      </div>
      <div class="auth-link">
        Уже есть аккаунт? <a routerLink="/login">Войдите</a>
      </div>
    </div>

    <div class="form-image">
      <img src="/assets/images/page/signup.png" alt="Девушка держит ручку в руке">
    </div>
  </div>
</section>
